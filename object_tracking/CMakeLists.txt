# Catkin User Guide: http://www.ros.org/doc/groovy/api/catkin/html/user_guide/user_guide.html
# Catkin CMake Standard: http://www.ros.org/doc/groovy/api/catkin/html/user_guide/standards.html
cmake_minimum_required(VERSION 2.8.3)
project(object_tracking)
# Load catkin and all dependencies required for this package
find_package(catkin REQUIRED COMPONENTS uscauv_common auv_msgs image_geometry dynamic_reconfigure)
# Eigen 3
find_package(Eigen REQUIRED)

include_directories(include cfg/cpp ${Eigen_INCLUDE_DIRS} ${catkin_INCLUDE_DIRS})

generate_dynamic_reconfigure_options(
  cfg/ObjectTracker.cfg
  cfg/TrackedObject.cfg
)

catkin_package(
    DEPENDS Eigen
    CATKIN_DEPENDS uscauv_common auv_msgs image_geometry dynamic_reconfigure
    INCLUDE_DIRS include cfg/cpp
    LIBRARIES ${PROJECT_NAME}
)

# TODO: Fix alignment instead of using this lazy hack
add_definitions( -DEIGEN_DONT_ALIGN )

# Auto-generated by uscauv-add-library
add_library( ${PROJECT_NAME} src/kalman_filter.cpp )
target_link_libraries(${PROJECT_NAME} ${catkin_LIBRARIES} ${Eigen_LIBRARIES})

# Auto-generated by uscauv-add-node
add_executable( unimodal_object_tracker nodes/unimodal_object_tracker_node.cpp )
add_dependencies(unimodal_object_tracker ${PROJECT_NAME}_gencfg)
target_link_libraries(unimodal_object_tracker ${PROJECT_NAME} ${catkin_LIBRARIES} ${Eigen_LIBRARIES})